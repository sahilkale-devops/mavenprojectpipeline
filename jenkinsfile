pipeline
{


agent any
stages
{
    stage("scm checkout")
    {
        steps
        {
            git branch: 'master', url: 'https://github.com/sahilkale-devops/mavenprojectpipeline.git'
        }
    }

stage("compile code")
    {
        steps 
        { 
            withMaven(globalMavenSettingsConfig: '', jdk: 'JDK_home', maven: 'Maven_home', mavenSettingsConfig: '', traceability: true)
         {sh ' mvn compile'}
        
        }
    }
stage("exucuting unit test framework")
    {
        steps 
        { 
            withMaven(globalMavenSettingsConfig: '', jdk: 'JDK_home', maven: 'Maven_home', mavenSettingsConfig: '', traceability: true)
         {sh ' mvn test'}
        
        }
    }

stage("building code/WAR File")
{
    steps
    {
        withMaven(globalMavenSettingsConfig:'', jdk:'JDK_home', maven:'Maven_home', mavenSettingConfig:'', traceability: true)
        {sh 'mvn package'}
    }
}
}

}